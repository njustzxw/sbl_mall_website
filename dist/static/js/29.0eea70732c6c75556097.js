webpackJsonp([29],{"/O+/":function(e,t){},"zfr+":function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=s("3cXf"),o=s.n(a),n=s("T452"),i=s("gyMJ"),r={name:"Address",props:["headtitle"],data:function(){return{editimg:!1,host:"",currentmod:"",modal3:!1,newphone:"",newemail:"",formValidate:{oldpassword:"",newpassword:"",newpasswordconfirm:""},differntFag:!1,question:"",answer:"",questionList:["你最喜欢的动物是？","你父亲的名字？","你母亲的名字？","你的中学是？","第一次坐飞机去的哪里？"],ruleValidate:{oldpassword:[{required:!0,message:"The name cannot be empty",trigger:"blur"}],newpassword:[{required:!0,message:"The name cannot be empty",trigger:"blur"}],newpasswordconfirm:[{required:!0,message:"The name cannot be empty",trigger:"blur"}]}}},mounted:function(){this.host=n.a},computed:{userInfo:function(){return JSON.parse(this.$store.state.user.userInfo)}},methods:{showbox:function(e){this.currentmod=e,this.modal3=!0},updateok:function(){var e=this;if("password"!=this.currentmod){var t={};switch(this.currentmod){case"phone":t={phone:this.newphone};break;case"email":t={email:this.newemail};break;case"mb":t={question:this.question,answer:this.answer}}this.updateInformation(t)}else{var s={passwordOld:this.formValidate.oldpassword,passwordNew:this.formValidate.newpassword};this.userInfo.username?this.updatepassword(s):Object(i.i)(s).then(function(t){console.log(t),0==t.status?e.$Message.success(t.msg):e.$Message.error(t.msg)})}},updateInformation:function(e){var t=this;Object(i.f)(e).then(function(e){"更新个人信息成功"==e.msg?(t.$store.commit("saveuserInfo",o()(e.data)),t.$Message.success(e.msg)):t.$Message.error(e.msg)})},updatepassword:function(e){Object(i.g)(e).then(function(e){console.log(e)})},confirm:function(){this.formValidate.newpasswordconfirm!=this.formValidate.newpassword?this.differntFag=!0:this.differntFag=!1},saveqyinfo:function(){var e=this,t={emerTelephone:this.userInfo.emerTelephone,headImg:this.userInfo.headImg,phone:this.userInfo.phone,fax:this.userInfo.fax,qq:this.userInfo.qq,invoiceAddress:this.userInfo.invoiceAddress,invoicePhone:this.userInfo.invoicePhone,invoiceBank:this.userInfo.invoiceBank,invoiceCount:this.userInfo.invoiceCount,invoiceNumber:this.userInfo.invoiceNumber};Object(i.h)(t).then(function(t){"更新个人信息成功"==t.msg&&(e.$Message.success(t.msg),e.$store.commit("saveuserInfo",o()(t.data)))})},uploadPic:function(){var e=this,t=$("#f").val(),s=t.split("\\"),a=s[s.length-1],o=a.lastIndexOf("."),n=a.substring(o,a.length).toUpperCase(),i=$("#f").get(0).files[0].size;if(console.log(t),".PNG"!=n&&".GIF"!=n&&".JPG"!=n&&".JPEG"!=n&&".BMP"!=n)return this.$Message.warning("文件类型错误,请上传图片类型"),!1;if(parseInt(i)>=parseInt(1048576))return this.$Message.warning("上传的文件不能超过1MB"),!1;var r=new FormData($("#form1")[0]);return $.ajax({url:"http://b2b.99sbl.com/user/upload.do",type:"post",data:r,dataType:"JSON",cache:!1,processData:!1,contentType:!1}).done(function(t){t.isSuccess?e.$Message.success("上传成功"):e.$Message.error("上传失败")}),!1}}},c={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[s("section",{staticClass:"headline"},[s("h2",[s("span",[e._v(e._s(e.headtitle))]),e._v(" "),s("a",{staticClass:"fr modifiypwd",attrs:{href:"javascript:;"},on:{click:function(t){e.showbox("password")}}},[e._v("修改密码")])])]),e._v(" "),e.userInfo.username?s("div",{staticClass:"page-for-account"},[s("div",{staticClass:"status-box account-avatar-box pr"},[s("div",{staticClass:"account-avatar-image"},[s("img",{attrs:{src:e.userInfo.headImg,alt:""}})]),e._v(" "),e._m(0),e._v(" "),s("div",{staticClass:"btn"}),e._v(" "),s("form",{attrs:{id:"form1"}},[s("input",{staticClass:"btn_mouseout",attrs:{type:"button",value:"上传图片",onclick:"f.click()"}}),s("br"),e._v(" "),s("p",[s("input",{staticStyle:{display:"none"},attrs:{type:"file",id:"f",name:"f"},on:{change:function(t){e.uploadPic(this)}}})])]),e._v(" "),s("div",{attrs:{id:"result"}})]),e._v(" "),s("div",{staticClass:"status-box pr"},[s("span",{staticClass:"jindu"},[s("i-circle",{attrs:{percent:100,"stroke-color":"#5cb85c",size:30}},[s("Icon",{staticStyle:{color:"#5cb85c"},attrs:{type:"ios-checkmark-empty",size:"30"}})],1)],1),e._v(" "),s("div",{staticClass:"safe-center-title"},[s("h3",[e._v("账户昵称")]),e._v(" "),s("p",[e._v(e._s(e.userInfo.username))])])]),e._v(" "),s("div",{staticClass:"status-box pr"},[s("span",{staticClass:"jindu"},[s("i-circle",{attrs:{percent:100,"stroke-color":"#5cb85c",size:30}},[s("Icon",{staticStyle:{color:"#5cb85c"},attrs:{type:"ios-checkmark-empty",size:"30"}})],1)],1),e._v(" "),s("div",{staticClass:"safe-center-title"},[s("h3",[e._v("手机验证")]),e._v(" "),s("p",[e._v(e._s(e.userInfo.phone))])]),e._v(" "),s("div",{staticClass:"safe-todo"},[s("Button",{staticStyle:{"font-size":"16px",color:"#5788E6"},attrs:{type:"text"},on:{click:function(t){e.showbox("phone")}}},[e._v("修改")])],1)]),e._v(" "),s("div",{staticClass:"status-box pr"},[s("span",{staticClass:"jindu"},[s("i-circle",{attrs:{percent:100,size:30,"stroke-color":"#ff5500"}},[s("Icon",{staticStyle:{color:"#ff5500"},attrs:{type:"information",size:"20"}})],1)],1),e._v(" "),e._m(1),e._v(" "),s("div",{staticClass:"safe-todo"},[s("Button",{staticStyle:{"font-size":"16px",color:"#5788E6"},attrs:{type:"text"},on:{click:function(t){e.showbox("password")}}},[e._v("修改")])],1)]),e._v(" "),s("div",{staticClass:"status-box pr"},[s("span",{staticClass:"jindu"},[s("i-circle",{attrs:{percent:100,"stroke-color":"#5cb85c",size:30}},[s("Icon",{staticStyle:{color:"#5cb85c"},attrs:{type:"ios-checkmark-empty",size:"30"}})],1)],1),e._v(" "),s("div",{staticClass:"safe-center-title"},[s("h3",[e._v("邮箱验证")]),e._v(" "),s("p",[e._v(e._s(e.userInfo.email))])]),e._v(" "),s("div",{staticClass:"safe-todo"},[s("Button",{staticStyle:{"font-size":"16px",color:"#5788E6"},attrs:{type:"text"},on:{click:function(t){e.showbox("email")}}},[e._v("修改")])],1)]),e._v(" "),s("div",{staticClass:"status-box pr"},[s("span",{staticClass:"jindu"},[s("i-circle",{attrs:{percent:100,"stroke-color":"#5cb85c",size:30}},[s("Icon",{staticStyle:{color:"#5cb85c"},attrs:{type:"ios-checkmark-empty",size:"30"}})],1)],1),e._v(" "),e._m(2),e._v(" "),s("div",{staticClass:"safe-todo"},[s("Button",{staticStyle:{"font-size":"16px",color:"#5788E6"},attrs:{type:"text"},on:{click:function(t){e.showbox("mb")}}},[e._v("设置")])],1)])]):s("div",{staticClass:"page-for-account"},[s("div",{staticClass:"infocontent"},[s("div",{staticClass:"baseinfo"},[s("div",{staticClass:"tips-box"},[e._v("\n                    亲爱的 "),s("b",[e._v(e._s(e.userInfo.enterName))]),e._v(" ,请尽量填写真实准确的信息哦。\n                ")]),e._v(" "),s("div",{staticClass:"main-profile"},[s("p",[s("label",[e._v("当前头像：")]),e._v(" "),s("span",{staticClass:"avatar-box",on:{mouseover:function(t){e.editimg=!0},mouseout:function(t){e.editimg=!1}}},[e._m(3),e._v(" "),s("a",{directives:[{name:"show",rawName:"v-show",value:e.editimg,expression:"editimg"}],staticClass:"edit-avatar"},[e._v("编辑头像")])])]),e._v(" "),s("p",[e._m(4),e._v(" "),s("input",{directives:[{name:"model",rawName:"v-model",value:e.userInfo.emerTelephone,expression:"userInfo.emerTelephone"}],attrs:{type:"text"},domProps:{value:e.userInfo.emerTelephone},on:{input:function(t){t.target.composing||e.$set(e.userInfo,"emerTelephone",t.target.value)}}})]),e._v(" "),e._m(5),e._v(" "),s("p",[e._m(6),e._v(" "),s("input",{directives:[{name:"model",rawName:"v-model",value:e.userInfo.phone,expression:"userInfo.phone"}],attrs:{type:"text"},domProps:{value:e.userInfo.phone},on:{input:function(t){t.target.composing||e.$set(e.userInfo,"phone",t.target.value)}}})]),e._v(" "),s("p",[s("label",[e._v("公司邮箱：")]),e._v(" "),s("input",{directives:[{name:"model",rawName:"v-model",value:e.userInfo.fax,expression:"userInfo.fax"}],attrs:{type:"text"},domProps:{value:e.userInfo.fax},on:{input:function(t){t.target.composing||e.$set(e.userInfo,"fax",t.target.value)}}})]),e._v(" "),s("p",[s("label",[e._v("QQ：")]),e._v(" "),s("input",{directives:[{name:"model",rawName:"v-model",value:e.userInfo.qq,expression:"userInfo.qq"}],attrs:{type:"text"},domProps:{value:e.userInfo.qq},on:{input:function(t){t.target.composing||e.$set(e.userInfo,"qq",t.target.value)}}})]),e._v(" "),s("p",[s("label",[e._v("开票地址：")]),e._v(" "),s("input",{directives:[{name:"model",rawName:"v-model",value:e.userInfo.invoiceAddress,expression:"userInfo.invoiceAddress"}],attrs:{type:"text"},domProps:{value:e.userInfo.invoiceAddress},on:{input:function(t){t.target.composing||e.$set(e.userInfo,"invoiceAddress",t.target.value)}}})]),e._v(" "),s("p",[s("label",[e._v("开票电话：")]),e._v(" "),s("input",{directives:[{name:"model",rawName:"v-model",value:e.userInfo.invoicePhone,expression:"userInfo.invoicePhone"}],attrs:{type:"text"},domProps:{value:e.userInfo.invoicePhone},on:{input:function(t){t.target.composing||e.$set(e.userInfo,"invoicePhone",t.target.value)}}})]),e._v(" "),s("p",[s("label",[e._v("开票银行名称：")]),e._v(" "),s("input",{directives:[{name:"model",rawName:"v-model",value:e.userInfo.invoiceBank,expression:"userInfo.invoiceBank"}],attrs:{type:"text"},domProps:{value:e.userInfo.invoiceBank},on:{input:function(t){t.target.composing||e.$set(e.userInfo,"invoiceBank",t.target.value)}}})]),e._v(" "),s("p",[s("label",[e._v("开票银行账号：")]),e._v(" "),s("input",{directives:[{name:"model",rawName:"v-model",value:e.userInfo.invoiceCount,expression:"userInfo.invoiceCount"}],attrs:{type:"text"},domProps:{value:e.userInfo.invoiceCount},on:{input:function(t){t.target.composing||e.$set(e.userInfo,"invoiceCount",t.target.value)}}})]),e._v(" "),s("p",[s("label",[e._v("开票公司税号：")]),e._v(" "),s("input",{directives:[{name:"model",rawName:"v-model",value:e.userInfo.invoiceNumber,expression:"userInfo.invoiceNumber"}],attrs:{type:"text"},domProps:{value:e.userInfo.invoiceNumber},on:{input:function(t){t.target.composing||e.$set(e.userInfo,"invoiceNumber",t.target.value)}}})]),e._v(" "),s("p",[s("Button",{attrs:{type:"warning"},on:{click:e.saveqyinfo}},[e._v("保存")])],1)])]),e._v(" "),s("div",{staticClass:"accountinfo pa"},[s("p",[s("label",[e._v("企业法人：")]),e._v(" "),s("span",[e._v(e._s(e.userInfo.leperson))])]),e._v(" "),s("p",[s("label",[e._v("账户余额：")]),e._v(" "),s("span",{staticStyle:{color:"red","font-size":"15px"}},[e._v(e._s(e.userInfo.balance))]),e._v(" 元\n                ")]),e._v(" "),s("p",[s("label",[e._v("折扣率：")]),e._v(" "),s("span",{staticStyle:{color:"red","font-size":"15px"}},[e._v(e._s(e.userInfo.discount))]),e._v(" 折\n                ")]),e._v(" "),s("p",[s("label",[e._v("纳税类型：")]),e._v(" "),s("span",[e._v(e._s(e.userInfo.texType))])])])])]),e._v(" "),s("Modal",{attrs:{width:"360"},on:{"on-ok":e.updateok},model:{value:e.modal3,callback:function(t){e.modal3=t},expression:"modal3"}},[s("div",{staticStyle:{width:"100%",height:"40px"}}),e._v(" "),s("Input",{directives:[{name:"show",rawName:"v-show",value:"phone"==e.currentmod,expression:"currentmod=='phone'"}],staticClass:"modinput",attrs:{placeholder:"请输入新的手机号",size:"large"},model:{value:e.newphone,callback:function(t){e.newphone=t},expression:"newphone"}}),e._v(" "),s("Input",{directives:[{name:"show",rawName:"v-show",value:"email"==e.currentmod,expression:"currentmod=='email'"}],staticClass:"modinput",attrs:{type:"email",placeholder:"请输入新的邮箱",size:"large",clearable:""},model:{value:e.newemail,callback:function(t){e.newemail=t},expression:"newemail"}}),e._v(" "),s("Form",{directives:[{name:"show",rawName:"v-show",value:"password"==e.currentmod,expression:"currentmod=='password'"}],ref:"formValidate",attrs:{rules:e.ruleValidate,"label-width":80,model:e.formValidate}},[s("FormItem",{attrs:{label:"旧密码",prop:"oldpassword"}},[s("Input",{attrs:{type:"password",placeholder:"请输入旧密码",size:"large"},model:{value:e.formValidate.oldpassword,callback:function(t){e.$set(e.formValidate,"oldpassword",t)},expression:"formValidate.oldpassword"}})],1),e._v(" "),s("FormItem",{attrs:{label:"新密码",prop:"newpassword"}},[s("Input",{attrs:{type:"password",placeholder:"请输入新密码",size:"large"},model:{value:e.formValidate.newpassword,callback:function(t){e.$set(e.formValidate,"newpassword",t)},expression:"formValidate.newpassword"}})],1),e._v(" "),s("FormItem",{attrs:{label:"确认密码",prop:"newpasswordconfirm"}},[s("Input",{attrs:{type:"password",placeholder:"请确认新密码",size:"large"},on:{"on-blur":e.confirm},model:{value:e.formValidate.newpasswordconfirm,callback:function(t){e.$set(e.formValidate,"newpasswordconfirm",t)},expression:"formValidate.newpasswordconfirm"}})],1),e._v(" "),s("p",{directives:[{name:"show",rawName:"v-show",value:e.differntFag,expression:"differntFag"}],staticStyle:{color:"red","padding-left":"80px"}},[e._v("两次密码不一致！")])],1),e._v(" "),s("div",{directives:[{name:"show",rawName:"v-show",value:"mb"==e.currentmod,expression:"currentmod=='mb'"}]},[s("Form",[s("FormItem",{attrs:{label:"密保问题"}},[s("Select",{model:{value:e.question,callback:function(t){e.question=t},expression:"question"}},e._l(e.questionList,function(t,a){return s("Option",{key:a,attrs:{value:t}},[e._v(e._s(t))])}))],1),e._v(" "),s("FormItem",{attrs:{label:"密保答案",prop:"answer"}},[s("Input",{attrs:{placeholder:"请输入答案"},model:{value:e.answer,callback:function(t){e.answer=t},expression:"answer"}})],1)],1)],1)],1)],1)},staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"safe-center-title"},[t("h3",[this._v("修改头像")])])},function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"safe-center-title"},[t("h3",[this._v("登录密码")]),this._v(" "),t("p",[this._v("互联网账号存在被盗风险，建议您定期更改密码以保护账户安全。")])])},function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"safe-center-title"},[t("h3",[this._v("安全问题")]),this._v(" "),t("p",[this._v("已设置安全问题")])])},function(){var e=this.$createElement,t=this._self._c||e;return t("a",{staticClass:"avatar"},[t("img",{attrs:{src:s("8fxx"),alt:""}})])},function(){var e=this.$createElement,t=this._self._c||e;return t("label",[this._v("紧急联系电话："),t("em",[this._v("*")])])},function(){var e=this.$createElement,t=this._self._c||e;return t("p",{staticClass:"input-help-text"},[t("span",[this._v("请确保该电话能随时接通，以确保交易顺利完成。")])])},function(){var e=this.$createElement,t=this._self._c||e;return t("label",[this._v("公司电话："),t("em",[this._v("*")])])}]};var l=s("C7Lr")(r,c,!1,function(e){s("/O+/")},null,null);t.default=l.exports}});
//# sourceMappingURL=29.0eea70732c6c75556097.js.map