webpackJsonp([8],{Qf39:function(t,a,e){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var s=e("qsHl"),i={name:"search",data:function(){return{totaldata:{},categoryList:[],selectcat:"",showprice:-1,orderBy:"price_desc",current:1,total:10,num:16,categoryId:"",yourlisjList:[],brandList:[],expandfag:1,currentbrand:"all"}},computed:{keyword:function(){return this.$store.state.goods.keyword},imageHost:function(){return this.$store.state.goods.imageHost}},watch:{keyword:function(){this._getProductList(1)}},mounted:function(){this._getProductList(1)},methods:{_getProductList:function(t){var a=this,e={keyword:this.$route.params.keyword,pageNum:this.current,pageSize:"16"};Object(s.n)(e).then(function(t){0==t.status&&(a.brandList=t.data.brandList,a.totaldata=t.data.pageInfo,a.total=t.data.pageInfo.navigatepageNums.length*t.data.pageInfo.pageSize)})},goto:function(t){var a=this.$router.resolve({path:"/describe/"+t}).href;window.open(a,"_blank")},selectCategory:function(t){this.current=1,this.selectcat=t,this._getProductList(0)},selectorderBy:function(t){this.current=1,this.orderBy=t,this._getProductList(0)},addToCart:function(t){this.$store.commit("addCart",t)},_getyoulike:function(){var t=this;Object(s.s)().then(function(a){t.yourlisjList=a.data.slice(0,6)})},changepage:function(t){this.current=t,this._selectbrand(),this.toTop(500)},pagesizechange:function(t){this.pageSize=t,this._selectbrand(),this.toTop(500)},toTop:function(t){var a=this;if(document.documentElement.scrollTop-=t,document.documentElement.scrollTop>0)var e=setTimeout(function(){return a.toTop(t)},16);else clearTimeout(e)},expend:function(){1==this.expandfag?(this.expandfag=2,$(".filter-list").animate({maxHeight:"450px"})):(this.expandfag=1,$(".filter-list").animate({maxHeight:"77px"}))},getList:function(){"all"==this.currentbrand?this._getProductList():this._selectbrand()},_selectbrand:function(t){var a=this;if(t&&(this.currentbrand=t,this.current=1),"all"==this.currentbrand)this._getProductList();else{var e={keyword:this.$route.params.keyword,brand:this.currentbrand,pageNum:this.current,pageSize:"16"};Object(s.j)(e).then(function(t){console.log(t),0==t.status&&(a.totaldata=t.data,a.total=t.data.total)})}}}},n={render:function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("div",[s("div",{staticClass:"breadcrumbs"},[s("Breadcrumb",{attrs:{separator:">"}},[s("BreadcrumbItem",{attrs:{to:"/home"}},[t._v("首页")]),t._v(" "),s("BreadcrumbItem",[t._v(t._s(this.$route.params.keyword))])],1)],1),t._v(" "),s("div",{staticClass:"filter-box pr"},[s("dl",{staticClass:"filter-list clearfix",staticStyle:{"max-height":"77px"}},[s("dt",[t._v("品牌：")]),t._v(" "),s("dd",{class:"all"==t.currentbrand?"active":"",on:{click:function(a){t._selectbrand("all")}}},[t._v("不限")]),t._v(" "),t._l(t.brandList,function(a,e){return s("dd",{key:e,staticClass:"pr"},[s("span",{staticClass:"bgborder pa"}),t._v(" "),s("span",{class:t.currentbrand==a?"active":"",on:{click:function(e){t._selectbrand(a)}}},[t._v(t._s(a))])])})],2),t._v(" "),t.brandList.length>17?s("div",{staticClass:"expand pa",on:{click:t.expend}},[s("Icon",{attrs:{type:1==t.expandfag?"chevron-down":"chevron-up"}}),t._v(" "),s("span",[t._v(t._s(1==t.expandfag?"展开":"收起"))])],1):t._e()]),t._v(" "),s("div",{staticClass:"order-list-box clearfix"}),t._v(" "),t.totaldata.list?s("div",[t.totaldata.list.length?s("div",{staticClass:"goods-list-box"},[s("div",{staticClass:"goods-list clearfix"},t._l(t.totaldata.list,function(a,e){return s("div",{key:e,staticClass:"goods-item",on:{click:function(e){t.goto(a.id)},mouseover:function(a){t.showprice=e},mouseout:function(a){t.showprice=-1}}},[s("div",{staticClass:"figure figure-img"},[s("img",{attrs:{src:a.mainImage,alt:a.name}})]),t._v(" "),s("h2",{staticClass:"title"},[t._v(t._s(a.name))]),t._v(" "),s("p",{staticClass:"price"},[t._v(t._s(a.price)+"元")]),t._v(" "),s("transition",{attrs:{name:"fade1"}},[s("div",{directives:[{name:"show",rawName:"v-show",value:t.showprice==e,expression:"showprice == index"}],staticClass:"clearfix"},[s("Button",{on:{click:function(e){e.stopPropagation(),e.preventDefault(),t.goto(a.id)}}},[t._v("查看详情")]),t._v(" "),s("Button",{attrs:{type:"info"},on:{click:function(e){e.stopPropagation(),e.preventDefault(),t.addToCart(a)}}},[t._v("加入购物车")])],1)])],1)})),t._v(" "),s("div",{staticClass:"fy"},[s("Page",{attrs:{total:t.total,current:t.current,"page-size":t.num},on:{"on-change":t.changepage,"on-page-size-change":t.pagesizechange}})],1)]):s("div",{staticClass:"goods-list-box bg-white",staticStyle:{"text-align":"center"}},[s("img",{staticStyle:{width:"100px","margin-top":"130px"},attrs:{src:e("UoPe"),alt:""}}),t._v(" "),s("p",{staticClass:"nonedata"},[t._v("暂无相关商品")])])]):t._e(),t._v(" "),s("div",{staticClass:"mt20"},[s("div",{staticClass:"liketitle"},[t._v("相关推荐")]),t._v(" "),s("ul",{staticClass:"yourlike clearfix"},t._l(t.yourlisjList,function(a,e){return s("li",{key:e,staticClass:"fl"},[s("img",{staticClass:"youfavarite",attrs:{src:t.imageHost+a.image,alt:""},on:{click:function(e){t.goto(a.productId)}}}),t._v(" "),s("p",{staticClass:"name",on:{click:function(e){t.goto(a.productId)}}},[t._v(t._s(a.name))]),t._v(" "),s("p",{staticClass:"price",staticStyle:{color:"red"}},[t._v("￥"+t._s(a.price.toFixed(2)))]),t._v(" "),s("Button",{attrs:{type:"dashed"},on:{click:function(e){e.stopPropagation(),e.preventDefault(),t.addToCart(a)}}},[t._v("加入购物车")])],1)}))])])},staticRenderFns:[]};var o=e("C7Lr")(i,n,!1,function(t){e("YaDt")},"data-v-ca523d4a",null);a.default=o.exports},YaDt:function(t,a){}});
//# sourceMappingURL=8.c753a40cc35474300caf.js.map